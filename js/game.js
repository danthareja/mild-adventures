!function t(e,i,a){function r(o,s){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(n)return n(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,a)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(t,e,i){for(var a=!0;a;){var r=t,n=e,o=i;s=l=u=void 0,a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,n);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;t=l,e=n,i=o,a=!0}},u=t("./Keyboard"),l=a(u),c=function(t){function e(t,i,a,n){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,a,"adventurer",n),this.MAX_SPEED=400,this.ACCELERATION=1e3,this.TRANSITION_SPEED=50,this.DRAG=1e3,this.JUMP_SPEED=-500,this.MIN_ANIMATION_SPEED=5,this.MAX_ANIMATION_SPEED=20,this.TRANSITION_ANIMATION_SPEED=20,this.jumping=!1,this.keyboard=new l["default"](t),this.addAnimations(),t.physics.enable(this,Phaser.Physics.ARCADE),this.body.collideWorldBounds=!0,this.body.maxVelocity.setTo(this.MAX_SPEED,10*this.MAX_SPEED),this.body.drag.setTo(this.DRAG,0)}return n(e,t),o(e,[{key:"update",value:function(){this.move(),this.animate()}},{key:"move",value:function(){this.body.acceleration.x=this.keyboard.leftInputIsActive()?-this.ACCELERATION:this.keyboard.rightInputIsActive()?this.ACCELERATION:0;var t=this.body.touching.down;t&&(this.jumps=2,this.jumping=!1),this.jumps>0&&this.keyboard.upInputIsActive(150)&&(this.body.velocity.y=this.JUMP_SPEED,this.jumping=!0),this.jumping&&this.keyboard.upInputReleased()&&(this.jumps--,this.jumping=!1)}},{key:"animate",value:function(){var t=Phaser.Math.mapLinear(Math.abs(this.body.velocity.x),0,this.MAX_SPEED,this.MIN_ANIMATION_SPEED,this.MAX_ANIMATION_SPEED);this.body.velocity.x<0&&(this.body.acceleration.x<0?Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("neutral-to-left"):Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("left-to-neutral"),Math.abs(this.body.velocity.x)>this.TRANSITION_SPEED&&(this.animateWalkLeft.isPlaying?this.animateWalkLeft.speed=t:this.animateWalkLeft.play(t,!0))),this.body.velocity.x>0&&(this.body.acceleration.x>0?Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("neutral-to-right"):Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("right-to-neutral"),Math.abs(this.body.velocity.x)>this.TRANSITION_SPEED&&(this.animateWalkRight.isPlaying?this.animateWalkRight.speed=t:this.animateWalkRight.play(t,!0)))}},{key:"addAnimations",value:function(){this.animateWalkLeft=this.animations.add("walk-left",["walk-left-4","walk-left-5","walk-left-6","walk-left-7","walk-left-8","walk-left-6"]),this.animateWalkRight=this.animations.add("walk-right",["walk-right-4","walk-right-5","walk-right-6","walk-right-7","walk-right-8","walk-right-6"]),this.animations.add("neutral-to-left",["walk-left-1","walk-left-2","walk-left-3"],this.TRANSITION_ANIMATION_SPEED,!1),this.animations.add("left-to-neutral",["walk-left-3","walk-left-2","walk-left-1","neutral"],this.TRANSITION_ANIMATION_SPEED,!1),this.animations.add("neutral-to-right",["walk-right-1","walk-right-2","walk-right-3"],this.TRANSITION_ANIMATION_SPEED,!1),this.animations.add("right-to-neutral",["walk-right-3","walk-right-2","walk-right-1","neutral"],this.TRANSITION_ANIMATION_SPEED,!1)}}]),e}(Phaser.Sprite);i["default"]=c,e.exports=i["default"]},{"./Keyboard":6}],2:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e){a(this,t),this.game=e,this.game.orientated=!1}return r(t,[{key:"init",value:function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.game.device.desktop?(this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.setMinMax(480,260,1024,768),this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.game.orientated=!0):(this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.setMinMax(480,260,1024,768),this.scale.pageAlignHorizontally=!0,this.scale.forceOrientation(!0,!1),this.scale.setResizeCallback(this.gameResized,this),this.scale.enterIncorrectOrientation.add(this.enterIncorrectOrientation,this),this.scale.leaveIncorrectOrientation.add(this.leaveIncorrectOrientation,this))}},{key:"preload",value:function(){this.game.load.image("ground","assets/ground-01.png"),this.game.load.image("background","assets/background.png"),this.game.load.image("tree","assets/tree.png"),this.game.load.atlasJSONHash("adventurer","assets/adventurer.png","assets/adventurer.json"),this.game.load.image("open_flower","assets/flower_open.png"),this.game.load.image("closed_flower","assets/flower_closed.png")}},{key:"create",value:function(){this.state.start("Game")}},{key:"gameResized",value:function(t,e){console.log("gameResized called ${width}x${height}")}},{key:"enterIncorrectOrientation",value:function(){this.game.orientated=!1,document.getElementById("orientation").style.display="block"}},{key:"leaveIncorrectOrientation",value:function(){this.game.orientated=!0,document.getElementById("orientation").style.display="none"}}]),t}();i["default"]=n,e.exports=i["default"]},{}],3:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t,e,i){for(var a=!0;a;){var r=t,n=e,o=i;s=l=u=void 0,a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,n);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;t=l,e=n,i=o,a=!0}},s=function(t){function e(t,i,r,n){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,r,"closed_flower",n),t.physics.enable(this),this.isOpen=!1,this.body.allowGravity=!1}return r(e,t),n(e,[{key:"swap",value:function(){this.isOpen=!this.isOpen,this.loadTexture(this.isOpen?"open_flower":"closed_flower")}}]),e}(Phaser.Sprite);i["default"]=s,e.exports=i["default"]},{}],4:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=t("./Ground"),s=a(o),u=t("./Tree"),l=a(u),c=t("./Flower"),h=a(c),f=t("./Keyboard"),d=a(f),p=t("./Adventurer"),y=a(p),v=function(){function t(e){r(this,t),this.GRAVITY=2600,this.game=e}return n(t,[{key:"create",value:function(){this.game.stage.backgroundColor="#ffffff",this.game.physics.arcade.gravity.y=this.GRAVITY,this.keyboard=new d["default"](this.game),this.addSprite("tree",new l["default"](this.game,0,0)),this.addSprite("ground",new s["default"](this.game,0,this.game.height-40)),this.addSprite("flower",new h["default"](this.game,this.game.width-300,this.game.height-143)),this.addSprite("player",new y["default"](this.game,this.game.width/2,this.game.height-78,"neutral"))}},{key:"addSprite",value:function(t,e){this[t]=e,this.game.add.existing(e)}},{key:"update",value:function(){this.game.physics.arcade.collide(this.player,this.ground),this.game.physics.arcade.collide(this.tree,this.ground),this.updateFlower()}},{key:"updateFlower",value:function(){this.recentFlowerOverlap=this.game.physics.arcade.overlap(this.player,this.flower,function(t,e){this.recentFlowerOverlap||e.swap()},null,this)}}]),t}();i["default"]=v,e.exports=i["default"]},{"./Adventurer":1,"./Flower":3,"./Ground":5,"./Keyboard":6,"./Tree":7}],5:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){for(var a=!0;a;){var r=t,n=e,o=i;s=l=u=void 0,a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,n);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;t=l,e=n,i=o,a=!0}},o=function(t){function e(t,i,r,o){a(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,r,"ground",o),t.physics.enable(this),this.body.immovable=!0,this.body.allowGravity=!1}return r(e,t),e}(Phaser.Sprite);i["default"]=o,e.exports=i["default"]},{}],6:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t,e,i){for(var a=!0;a;){var r=t,n=e,o=i;s=l=u=void 0,a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,n);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;t=l,e=n,i=o,a=!0}},s=function(t){function e(t){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),t.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN]),this.game=t}return r(e,t),n(e,[{key:"leftInputIsActive",value:function(){var t=!1;return t=this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT),t|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x<this.game.width/4}},{key:"rightInputIsActive",value:function(){var t=!1;return t=this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT),t|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x>this.game.width/2+this.game.width/4}},{key:"upInputIsActive",value:function(t){var e=!1;return e=this.game.input.keyboard.downDuration(Phaser.Keyboard.UP,t),e|=this.game.input.activePointer.justPressed(t+1e3/60)&&this.game.input.activePointer.x>this.game.width/4&&this.game.input.activePointer.x<this.game.width/2+this.game.width/4}},{key:"upInputReleased",value:function(){var t=!1;return t=this.game.input.keyboard.upDuration(Phaser.Keyboard.UP),t|=this.game.input.activePointer.justReleased()}},{key:"downInputIsActive",value:function(){var t=!1;return t=this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN),t|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x<this.game.width/4}}]),e}(Phaser.Keyboard);i["default"]=s,e.exports=i["default"]},{}],7:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){for(var a=!0;a;){var r=t,n=e,o=i;s=l=u=void 0,a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,n);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;t=l,e=n,i=o,a=!0}},o=function(t){function e(t,i,r,o){a(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,r,"tree",o),t.physics.enable(this)}return r(e,t),e}(Phaser.Sprite);i["default"]=o,e.exports=i["default"]},{}],8:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var r=t("./GameState"),n=a(r),o=t("./BootState"),s=a(o),u=new Phaser.Game(1024,768,Phaser.AUTO,"game");u.state.add("Boot",s["default"]),u.state.add("Game",n["default"]),u.state.start("Boot")},{"./BootState":2,"./GameState":4}]},{},[8]);