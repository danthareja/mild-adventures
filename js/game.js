!function t(e,i,r){function a(n,s){if(!i[n]){if(!e[n]){var u="function"==typeof require&&require;if(!s&&u)return u(n,!0);if(o)return o(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[n]={exports:{}};e[n][0].call(h.exports,function(t){var i=e[n][1][t];return a(i?i:t)},h,h.exports,t,e,i,r)}return i[n].exports}for(var o="function"==typeof require&&require,n=0;n<r.length;n++)a(r[n]);return a}({1:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=function(t,e,i){for(var r=!0;r;){var a=t,o=e,n=i;s=l=u=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(n)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;t=l,e=o,i=n,r=!0}},u=t("./Keyboard"),l=r(u),h=function(t){function e(t,i,r,o){a(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,r,"adventurer",o),this.MAX_SPEED=400,this.ACCELERATION=1e3,this.TRANSITION_SPEED=50,this.DRAG=1e3,this.JUMP_SPEED=-500,this.MIN_ANIMATION_SPEED=5,this.MAX_ANIMATION_SPEED=20,this.TRANSITION_ANIMATION_SPEED=20,this.jumping=!1,this.keyboard=new l["default"](t),this.addAnimations(),t.physics.enable(this,Phaser.Physics.ARCADE),this.body.collideWorldBounds=!0,this.body.maxVelocity.setTo(this.MAX_SPEED,10*this.MAX_SPEED),this.body.drag.setTo(this.DRAG,0)}return o(e,t),n(e,[{key:"update",value:function(){this.move(),this.animate()}},{key:"move",value:function(){this.body.acceleration.x=this.keyboard.leftInputIsActive()?-this.ACCELERATION:this.keyboard.rightInputIsActive()?this.ACCELERATION:0;var t=this.body.touching.down;t&&(this.jumps=2,this.jumping=!1),this.jumps>0&&this.keyboard.upInputIsActive(150)&&(this.body.velocity.y=this.JUMP_SPEED,this.jumping=!0),this.jumping&&this.keyboard.upInputReleased()&&(this.jumps--,this.jumping=!1)}},{key:"animate",value:function(){var t=Phaser.Math.mapLinear(Math.abs(this.body.velocity.x),0,this.MAX_SPEED,this.MIN_ANIMATION_SPEED,this.MAX_ANIMATION_SPEED);this.body.velocity.x<0&&(this.body.acceleration.x<0?Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("neutral-to-left"):Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("left-to-neutral"),Math.abs(this.body.velocity.x)>this.TRANSITION_SPEED&&(this.animateWalkLeft.isPlaying?this.animateWalkLeft.speed=t:this.animateWalkLeft.play(t,!0))),this.body.velocity.x>0&&(this.body.acceleration.x>0?Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("neutral-to-right"):Math.abs(this.body.velocity.x)<this.TRANSITION_SPEED&&this.animations.play("right-to-neutral"),Math.abs(this.body.velocity.x)>this.TRANSITION_SPEED&&(this.animateWalkRight.isPlaying?this.animateWalkRight.speed=t:this.animateWalkRight.play(t,!0)))}},{key:"addAnimations",value:function(){this.animateWalkLeft=this.animations.add("walk-left",["walk-left-4","walk-left-5","walk-left-6","walk-left-7","walk-left-8","walk-left-6"]),this.animateWalkRight=this.animations.add("walk-right",["walk-right-4","walk-right-5","walk-right-6","walk-right-7","walk-right-8","walk-right-6"]),this.animations.add("neutral-to-left",["walk-left-1","walk-left-2","walk-left-3"],this.TRANSITION_ANIMATION_SPEED,!1),this.animations.add("left-to-neutral",["walk-left-3","walk-left-2","walk-left-1","neutral"],this.TRANSITION_ANIMATION_SPEED,!1),this.animations.add("neutral-to-right",["walk-right-1","walk-right-2","walk-right-3"],this.TRANSITION_ANIMATION_SPEED,!1),this.animations.add("right-to-neutral",["walk-right-3","walk-right-2","walk-right-1","neutral"],this.TRANSITION_ANIMATION_SPEED,!1)}}]),e}(Phaser.Sprite);i["default"]=h,e.exports=i["default"]},{"./Keyboard":5}],2:[function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=function(t,e,i){for(var r=!0;r;){var a=t,o=e,n=i;s=l=u=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(n)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;t=l,e=o,i=n,r=!0}},s=function(t){function e(t,i,a,o){r(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,a,"closed_flower",o),t.physics.enable(this),this.isOpen=!1,this.body.allowGravity=!1}return a(e,t),o(e,[{key:"swap",value:function(){this.isOpen=!this.isOpen,this.loadTexture(this.isOpen?"open_flower":"closed_flower")}}]),e}(Phaser.Sprite);i["default"]=s,e.exports=i["default"]},{}],3:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=t("./Ground"),s=r(n),u=t("./Flower"),l=r(u),h=t("./Keyboard"),c=r(h),f=t("./Adventurer"),p=r(f),d=function(){function t(e){a(this,t),this.GRAVITY=2600,this.game=e}return o(t,[{key:"preload",value:function(){this.game.load.atlasJSONHash("adventurer","assets/adventurer.png","assets/adventurer.json"),this.game.load.image("ground","assets/ground-01.png"),this.game.load.image("open_flower","assets/flower_open.png"),this.game.load.image("closed_flower","assets/flower_closed.png")}},{key:"create",value:function(){this.game.stage.backgroundColor="#ffffff",this.game.physics.arcade.gravity.y=this.GRAVITY,this.player=new p["default"](this.game,this.game.width/2,this.game.height-78,"neutral"),this.game.add.existing(this.player),this.ground=new s["default"](this.game,0,this.game.height-40),this.game.add.existing(this.ground),this.keyboard=new c["default"](this.game),this.flower=new l["default"](this.game,this.game.width-300,this.game.height-143),this.game.add.existing(this.flower)}},{key:"update",value:function(){this.game.physics.arcade.collide(this.player,this.ground),this.player.move(),this.updateFlower()}},{key:"updateFlower",value:function(){this.recentFlowerOverlap=this.game.physics.arcade.overlap(this.player,this.flower,function(t,e){this.recentFlowerOverlap||e.swap()},null,this)}}]),t}();i["default"]=d,e.exports=i["default"]},{"./Adventurer":1,"./Flower":2,"./Ground":4,"./Keyboard":5}],4:[function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(t,e,i){for(var r=!0;r;){var a=t,o=e,n=i;s=l=u=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(n)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;t=l,e=o,i=n,r=!0}},n=function(t){function e(t,i,a,n){r(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,a,"ground",n),t.physics.enable(this),this.body.immovable=!0,this.body.allowGravity=!1}return a(e,t),e}(Phaser.Sprite);i["default"]=n,e.exports=i["default"]},{}],5:[function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=function(t,e,i){for(var r=!0;r;){var a=t,o=e,n=i;s=l=u=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(n)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;t=l,e=o,i=n,r=!0}},s=function(t){function e(t){r(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),t.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN]),this.game=t}return a(e,t),o(e,[{key:"leftInputIsActive",value:function(){var t=!1;return t=this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT),t|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x<this.game.width/4}},{key:"rightInputIsActive",value:function(){var t=!1;return t=this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT),t|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x>this.game.width/2+this.game.width/4}},{key:"upInputIsActive",value:function(t){var e=!1;return e=this.game.input.keyboard.downDuration(Phaser.Keyboard.UP,t),e|=this.game.input.activePointer.justPressed(t+1e3/60)&&this.game.input.activePointer.x>this.game.width/4&&this.game.input.activePointer.x<this.game.width/2+this.game.width/4}},{key:"upInputReleased",value:function(){var t=!1;return t=this.game.input.keyboard.upDuration(Phaser.Keyboard.UP),t|=this.game.input.activePointer.justReleased()}},{key:"downInputIsActive",value:function(){var t=!1;return t=this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN),t|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x<this.game.width/4}}]),e}(Phaser.Keyboard);i["default"]=s,e.exports=i["default"]},{}],6:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=t("./GameState"),o=r(a),n=new Phaser.Game(800,600,Phaser.AUTO,"game");n.state.add("game",o["default"],!0)},{"./GameState":3}]},{},[6]);